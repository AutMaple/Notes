# Oauth2 授权流程

```txt
 +--------+                               +---------------+
 |        |--(A)- Authorization Request ->|   Resource    |
 |        |                               |     Owner     |
 |        |<-(B)-- Authorization Grant ---|               |
 |        |                               +---------------+
 |        |
 |        |                               +---------------+
 |        |--(C)-- Authorization Grant -->| Authorization |
 | Client |                               |     Server    |
 |        |<-(D)----- Access Token -------|               |
 |        |                               +---------------+
 |        |
 |        |                               +---------------+
 |        |--(E)----- Access Token ------>|    Resource   |
 |        |                               |     Server    |
 |        |<-(F)--- Protected Resource ---|               |
 +--------+                               +---------------+
```

1. 用户发起授权请求，在该请求中会携带请求授权成功后需要重定向的地址
2. 授权服务器返回一个授权界面，用户需要在授权界面确认授权
3. 当用户点击确认授权按钮时，会向授权服务器发送确认授权的请求，同时会携带第 1 步中的重定向地址
4. 授权服务器接收到确认授权的请求时，将会响应一个重定向的请求，同时会在重定向的地址中加入一个 Access Token
5. 应用服务器在接收到对应的请求后，可以通过请求中携带的 AccessToken 向资源服务器发送请求，从而获取用户可访问的信息